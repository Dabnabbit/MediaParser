---
phase: 04-review-queues-timestamps
plan: 09
type: execute
wave: 6
depends_on: ["04-07", "04-08"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Upload and process files shows unified grid"
    - "Filter chips filter the grid correctly"
    - "Examination view opens and shows file details"
    - "Timestamp source selection and confirm works"
    - "Tagging in toolbar and examination works"
    - "Review workflow completes without errors"
  artifacts: []
  key_links: []
---

<objective>
Human verification of complete Phase 4 review workflow.

Purpose: Ensure the entire timestamp review experience works correctly end-to-end.
Output: Verification that all Phase 4 features function as designed.
</objective>

<execution_context>
@/home/dab/.claude/get-shit-done/workflows/execute-plan.md
@/home/dab/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-review-queues-timestamps/04-CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete Phase 4 timestamp review workflow including:
- Unified grid replacing accordion buckets
- Filter chips with counts (HIGH/MEDIUM/LOW/Reviewed/Duplicates/Failed)
- Multi-select with shift-click and ctrl-click
- Selection toolbar with quick tag add
- Examination modal with prev/next navigation
- Timestamp source comparison and selection
- Manual timestamp entry with date parsing
- Confirm & Next review workflow
- HIGH confidence auto-confirmation
- Tagging in toolbar and examination view
  </what-built>
  <how-to-verify>
**Setup:**
1. Start Flask server: `cd /home/dab/Projects/MediaParser && .venv/bin/flask run --debug`
2. Start Huey worker: `cd /home/dab/Projects/MediaParser && .venv/bin/huey_consumer huey_config.huey -w 2 -k thread`
3. Open browser to http://localhost:5000

**Test 1: Upload and Grid Display**
1. Upload 10+ test images with varying EXIF data
2. Wait for processing to complete
3. Verify: Unified grid displays (no accordions)
4. Verify: Filter chips show correct counts
5. Verify: Thumbnails have confidence badges (H/M/L)

**Test 2: Filter Chips**
1. Click HIGH filter chip
2. Verify: Only HIGH confidence files shown
3. Click MEDIUM chip (should add to filter)
4. Verify: Both HIGH and MEDIUM shown
5. Click "Clear filters"
6. Verify: All files shown again

**Test 3: Multi-Select**
1. Click one thumbnail
2. Verify: Selected state (blue border, scale)
3. Shift-click another thumbnail 5 positions away
4. Verify: Range of 6 files selected
5. Ctrl-click one selected file
6. Verify: That file deselected, others remain
7. Press Escape
8. Verify: All deselected

**Test 4: Selection Toolbar**
1. Select 3 files
2. Verify: Toolbar appears with "3 files selected"
3. Type "test-tag" in quick tag input
4. Click Add
5. Verify: Toast shows "Added test-tag to 3 files"

**Test 5: Examination View**
1. Click on a thumbnail (not selected)
2. Verify: Modal opens with file preview
3. Verify: File info displayed (size, type, confidence)
4. Press Right Arrow key
5. Verify: Next file displayed
6. Press Left Arrow key
7. Verify: Previous file displayed
8. Press Escape
9. Verify: Modal closes

**Test 6: Timestamp Sources**
1. Open examination view for a file
2. Verify: Timestamp sources listed with labels
3. Verify: One source marked "Recommended"
4. Click a different source row
5. Verify: Radio button selects that source
6. Type "2020" in manual entry
7. Verify: Preview shows "Parsed: Jan 1, 2020..."

**Test 7: Review Workflow**
1. Open examination for LOW/MEDIUM confidence file
2. Select a timestamp source
3. Click "Confirm & Next"
4. Verify: Moves to next unreviewed file
5. Check grid: Reviewed file has checkmark badge
6. Check filter: Reviewed count increased

**Test 8: HIGH Auto-Confirm**
1. Start a new job with HIGH confidence files
2. Wait for completion
3. Verify: HIGH confidence files show checkmark
4. Open examination for HIGH file
5. Verify: Shows "Unreview" button (not Confirm)

**Test 9: Tagging in Examination**
1. Open examination view
2. Look at Tags section
3. Type new tag, press Enter
4. Verify: Tag pill appears
5. Click X on tag pill
6. Verify: Tag removed

**Test 10: Full Workflow**
1. Filter to show only unreviewed files
2. Open first file
3. Select timestamp, click Confirm & Next
4. Repeat for 5 files
5. Verify: Filter counts update correctly
6. Verify: No errors in browser console
  </how-to-verify>
  <resume-signal>Type "approved" if all tests pass, or describe specific issues found</resume-signal>
</task>

</tasks>

<verification>
All verification happens in the checkpoint task above.
</verification>

<success_criteria>
- All 10 test scenarios pass
- No JavaScript errors in console
- UI responsive and smooth
- Review workflow intuitive
</success_criteria>

<output>
After completion, create `.planning/phases/04-review-queues-timestamps/04-09-SUMMARY.md`
</output>
